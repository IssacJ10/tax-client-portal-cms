{
    "header": {
        "title": "{year} Personal Tax Return (T1)",
        "description": "Complete your T1 General Tax Return accurately.",
        "showProgress": true
    },
    "steps": [
        {
            "id": "filing_setup",
            "title": "Filing Setup",
            "order": 5,
            "description": "Who are you filing for?",
            "visibleForRoles": [
                "PRIMARY"
            ]
        },
        {
            "id": "personal_info",
            "title": "Personal Info",
            "order": 10,
            "description": "Identity & Contact"
        },
        {
            "id": "residency",
            "title": "Residency",
            "order": 20,
            "description": "Status & Province"
        },
        {
            "id": "marital_status",
            "title": "Marital Status",
            "order": 30,
            "description": "Year-Specific",
            "visibleForRoles": [
                "PRIMARY"
            ]
        },
        {
            "id": "spouse_info",
            "title": "Spouse Info",
            "order": 35,
            "description": "Partner Details",
            "visibleForRoles": [
                "PRIMARY"
            ],
            "conditional": {
                "anyQuestionVisible": true
            }
        },
        {
            "id": "dependants",
            "title": "Dependants",
            "order": 40,
            "description": "Children & Others",
            "visibleForRoles": [
                "PRIMARY"
            ]
        },
        {
            "id": "elections_canada",
            "title": "Elections Canada",
            "order": 45,
            "description": "Consent",
            "conditional": {
                "anyQuestionVisible": true
            }
        },
        {
            "id": "property_assets",
            "title": "Property & Assets",
            "order": 50,
            "description": "Real Estate & Foreign"
        },
        {
            "id": "disability_credit",
            "title": "Disability Credit",
            "order": 55,
            "description": "Tax Credit"
        },
        {
            "id": "income_selection",
            "title": "Income Sources",
            "order": 60,
            "description": "All Income Types"
        },
        {
            "id": "deductions_selection",
            "title": "Deductions",
            "order": 70,
            "description": "Credits & Expenses"
        },
        {
            "id": "work_expenses",
            "title": "Work Expenses",
            "order": 75,
            "description": "Employment Costs",
            "conditional": {
                "anyQuestionVisible": true
            }
        },
        {
            "id": "home_office",
            "title": "Home Office",
            "order": 78,
            "description": "T777 Details",
            "conditional": {
                "anyQuestionVisible": true
            }
        },
        {
            "id": "vehicle_expenses",
            "title": "Vehicle Expenses",
            "order": 80,
            "description": "Travel Costs",
            "conditional": {
                "anyQuestionVisible": true
            }
        },
        {
            "id": "self_employment",
            "title": "Self-Employment",
            "order": 85,
            "description": "Business Details",
            "conditional": {
                "anyQuestionVisible": true
            }
        },
        {
            "id": "rental_income",
            "title": "Rental Income",
            "order": 90,
            "description": "Property Income",
            "conditional": {
                "anyQuestionVisible": true
            }
        },
        {
            "id": "moving_expenses",
            "title": "Moving Expenses",
            "order": 95,
            "description": "Relocation Costs",
            "conditional": {
                "anyQuestionVisible": true
            }
        },
        {
            "id": "documents",
            "title": "Documents",
            "order": 100,
            "description": "Upload Files"
        },
        {
            "id": "review",
            "title": "Review",
            "order": 110,
            "description": "Verify Info"
        },
        {
            "id": "payment",
            "title": "Payment",
            "order": 120,
            "description": "Finalize & Pay"
        }
    ],
    "questions": [
        {
            "id": "q_filing_type",
            "type": "radio",
            "label": "Who are you filing taxes for this year?",
            "name": "filingSetup.type",
            "options": [
                {
                    "value": "INDIVIDUAL",
                    "label": "Just myself"
                },
                {
                    "value": "MULTI_PERSON",
                    "label": "Myself and others (spouse, earning dependents)"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "filing_setup",
            "order": 1,
            "helpText": "Select 'Myself and others' if you want to include your spouse's income or dependents who earned income this year"
        },
        {
            "id": "q_include_spouse",
            "type": "radio",
            "label": "Are you including your spouse's income in this filing?",
            "name": "filingSetup.includeSpouse",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes, include spouse"
                },
                {
                    "value": "NO",
                    "label": "No, spouse will file separately"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "filingSetup.type",
                        "operator": "equals",
                        "value": "MULTI_PERSON"
                    }
                }
            },
            "step": "filing_setup",
            "order": 2,
            "conditional": {
                "parentQuestionId": "filingSetup.type",
                "operator": "equals",
                "value": "MULTI_PERSON"
            },
            "helpText": "If you're married or common-law and want to include your spouse's income, select Yes"
        },
        {
            "id": "q_num_earning_dependents",
            "type": "number",
            "label": "How many of your dependents earned income this year?",
            "name": "filingSetup.numEarningDependents",
            "validation": {
                "min": 0,
                "max": 10
            },
            "step": "filing_setup",
            "order": 3,
            "conditional": {
                "parentQuestionId": "filingSetup.type",
                "operator": "equals",
                "value": "MULTI_PERSON"
            }
        },
        {
            "id": "q_fname",
            "type": "text",
            "label": "First Name",
            "name": "personalInfo.firstName",
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 10
        },
        {
            "id": "q_mname",
            "type": "text",
            "label": "Middle Name",
            "name": "personalInfo.middleName",
            "validation": {
                "required": false
            },
            "step": "personal_info",
            "order": 15
        },
        {
            "id": "q_lname",
            "type": "text",
            "label": "Last Name",
            "name": "personalInfo.lastName",
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 20
        },
        {
            "id": "q_sin",
            "type": "text",
            "label": "Social Insurance Number (SIN)",
            "name": "personalInfo.sin",
            "validation": {
                "required": true,
                "pattern": "^\\d{3}-?\\d{3}-?\\d{3}$"
            },
            "placeholder": "999-999-999",
            "step": "personal_info",
            "order": 25
        },
        {
            "id": "q_email",
            "type": "email",
            "label": "Email Address",
            "name": "personalInfo.email",
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 30
        },
        {
            "id": "q_phone",
            "type": "tel",
            "label": "Phone Number",
            "name": "personalInfo.phoneNumber",
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 35
        },
        {
            "id": "q_street_number",
            "type": "text",
            "label": "Street Number",
            "name": "personalInfo.streetNumber",
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 40
        },
        {
            "id": "q_street_name",
            "type": "text",
            "label": "Street Name",
            "name": "personalInfo.streetName",
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 45
        },
        {
            "id": "q_apt_number",
            "type": "text",
            "label": "Apartment Number",
            "name": "personalInfo.apartmentNumber",
            "validation": {
                "required": false
            },
            "step": "personal_info",
            "order": 50
        },
        {
            "id": "q_city",
            "type": "text",
            "label": "City",
            "name": "personalInfo.city",
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 55
        },
        {
            "id": "q_province",
            "type": "select",
            "label": "Province / Territory",
            "name": "personalInfo.province",
            "options": [
                {
                    "value": "AB",
                    "label": "Alberta"
                },
                {
                    "value": "BC",
                    "label": "British Columbia"
                },
                {
                    "value": "MB",
                    "label": "Manitoba"
                },
                {
                    "value": "NB",
                    "label": "New Brunswick"
                },
                {
                    "value": "NL",
                    "label": "Newfoundland and Labrador"
                },
                {
                    "value": "NS",
                    "label": "Nova Scotia"
                },
                {
                    "value": "ON",
                    "label": "Ontario"
                },
                {
                    "value": "PE",
                    "label": "Prince Edward Island"
                },
                {
                    "value": "QC",
                    "label": "Quebec"
                },
                {
                    "value": "SK",
                    "label": "Saskatchewan"
                },
                {
                    "value": "NT",
                    "label": "Northwest Territories"
                },
                {
                    "value": "NU",
                    "label": "Nunavut"
                },
                {
                    "value": "YT",
                    "label": "Yukon"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 60
        },
        {
            "id": "q_postal_code",
            "type": "text",
            "label": "Postal Code",
            "name": "personalInfo.postalCode",
            "validation": {
                "required": true,
                "pattern": "^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$"
            },
            "placeholder": "A1A 1A1",
            "step": "personal_info",
            "order": 65
        },
        {
            "id": "q_dob",
            "type": "date",
            "label": "Date of Birth",
            "name": "personalInfo.dateOfBirth",
            "validation": {
                "required": true,
                "maxDate": "today",
                "minDate": "1900-01-01"
            },
            "step": "personal_info",
            "order": 70
        },
        {
            "id": "q_status_canada",
            "type": "select",
            "label": "Status in Canada",
            "name": "personalInfo.statusInCanada",
            "options": [
                {
                    "value": "CANADIAN_CITIZEN",
                    "label": "Canadian Citizen"
                },
                {
                    "value": "PERMANENT_RESIDENT",
                    "label": "Permanent Resident"
                },
                {
                    "value": "TEMPORARY_RESIDENT",
                    "label": "Temporary Resident"
                },
                {
                    "value": "PROTECTED_PERSON",
                    "label": "Protected Person"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "personal_info",
            "order": 75
        },
        {
            "id": "q_date_became_resident",
            "type": "date",
            "label": "Date Became Resident of Canada",
            "name": "personalInfo.dateBecameResident",
            "validation": {
                "required": false,
                "maxDate": "today",
                "minDateRef": "personalInfo.dateOfBirth"
            },
            "step": "personal_info",
            "order": 80
        },
        {
            "id": "q_province_resided",
            "type": "select",
            "label": "Province Resided In (for selected tax year)",
            "name": "residency.provinceResided",
            "options": [
                {
                    "value": "AB",
                    "label": "Alberta"
                },
                {
                    "value": "BC",
                    "label": "British Columbia"
                },
                {
                    "value": "MB",
                    "label": "Manitoba"
                },
                {
                    "value": "NB",
                    "label": "New Brunswick"
                },
                {
                    "value": "NL",
                    "label": "Newfoundland and Labrador"
                },
                {
                    "value": "NS",
                    "label": "Nova Scotia"
                },
                {
                    "value": "ON",
                    "label": "Ontario"
                },
                {
                    "value": "PE",
                    "label": "Prince Edward Island"
                },
                {
                    "value": "QC",
                    "label": "Quebec"
                },
                {
                    "value": "SK",
                    "label": "Saskatchewan"
                },
                {
                    "value": "NT",
                    "label": "Northwest Territories"
                },
                {
                    "value": "NU",
                    "label": "Nunavut"
                },
                {
                    "value": "YT",
                    "label": "Yukon"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "residency",
            "order": 10
        },
        {
            "id": "q_lived_outside_canada",
            "type": "radio",
            "label": "Did you live outside Canada on December 31?",
            "name": "residency.livedOutsideCanada",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "residency",
            "order": 20
        },
        {
            "id": "q_country_residence",
            "type": "text",
            "label": "Country of Residence",
            "name": "residency.countryOfResidence",
            "validation": {
                "required": false
            },
            "step": "residency",
            "order": 25,
            "conditional": {
                "parentQuestionId": "residency.livedOutsideCanada",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_became_resident_year",
            "type": "radio",
            "label": "Did you become a resident of Canada in the selected tax year?",
            "name": "residency.becameResidentThisYear",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "residency",
            "order": 30
        },
        {
            "id": "q_world_income",
            "type": "number",
            "label": "Last 3 years net world income (converted to CAD) - for benefit applications",
            "name": "residency.worldIncome",
            "validation": {
                "required": false
            },
            "step": "residency",
            "order": 35,
            "conditional": {
                "parentQuestionId": "residency.becameResidentThisYear",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_marital_status",
            "type": "select",
            "label": "Marital Status",
            "name": "maritalStatus.status",
            "options": [
                {
                    "value": "SINGLE",
                    "label": "Single"
                },
                {
                    "value": "MARRIED",
                    "label": "Married"
                },
                {
                    "value": "COMMON_LAW",
                    "label": "Common-law"
                },
                {
                    "value": "SEPARATED",
                    "label": "Separated"
                },
                {
                    "value": "DIVORCED",
                    "label": "Divorced"
                },
                {
                    "value": "WIDOWED",
                    "label": "Widowed"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "marital_status",
            "order": 10
        },
        {
            "id": "q_spouse_fullname",
            "type": "text",
            "label": "Spouse/Partner Full Name",
            "name": "spouse.fullName",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "maritalStatus.status",
                        "operator": "in",
                        "values": [
                            "MARRIED",
                            "COMMON_LAW"
                        ]
                    }
                }
            },
            "step": "spouse_info",
            "order": 10,
            "conditional": {
                "parentQuestionId": "maritalStatus.status",
                "operator": "in",
                "values": [
                    "MARRIED",
                    "COMMON_LAW"
                ]
            }
        },
        {
            "id": "q_spouse_sin",
            "type": "text",
            "label": "Spouse/Partner SIN",
            "name": "spouse.sin",
            "validation": {
                "pattern": "^\\d{3}-?\\d{3}-?\\d{3}$",
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "maritalStatus.status",
                        "operator": "in",
                        "values": [
                            "MARRIED",
                            "COMMON_LAW"
                        ]
                    }
                }
            },
            "placeholder": "999-999-999",
            "step": "spouse_info",
            "order": 15,
            "conditional": {
                "parentQuestionId": "maritalStatus.status",
                "operator": "in",
                "values": [
                    "MARRIED",
                    "COMMON_LAW"
                ]
            }
        },
        {
            "id": "q_spouse_dob",
            "type": "date",
            "label": "Spouse/Partner Date of Birth",
            "name": "spouse.dateOfBirth",
            "validation": {
                "minDate": "1900-01-01",
                "maxDate": "today",
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "maritalStatus.status",
                        "operator": "in",
                        "values": [
                            "MARRIED",
                            "COMMON_LAW"
                        ]
                    }
                }
            },
            "step": "spouse_info",
            "order": 20,
            "conditional": {
                "parentQuestionId": "maritalStatus.status",
                "operator": "in",
                "values": [
                    "MARRIED",
                    "COMMON_LAW"
                ]
            }
        },
        {
            "id": "q_spouse_status_canada",
            "type": "select",
            "label": "Spouse/Partner Status in Canada",
            "name": "spouse.statusInCanada",
            "options": [
                {
                    "value": "CANADIAN_CITIZEN",
                    "label": "Canadian Citizen"
                },
                {
                    "value": "PERMANENT_RESIDENT",
                    "label": "Permanent Resident"
                },
                {
                    "value": "TEMPORARY_RESIDENT",
                    "label": "Temporary Resident"
                },
                {
                    "value": "PROTECTED_PERSON",
                    "label": "Protected Person"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "maritalStatus.status",
                        "operator": "in",
                        "values": [
                            "MARRIED",
                            "COMMON_LAW"
                        ]
                    }
                }
            },
            "step": "spouse_info",
            "order": 25,
            "conditional": {
                "parentQuestionId": "maritalStatus.status",
                "operator": "in",
                "values": [
                    "MARRIED",
                    "COMMON_LAW"
                ]
            }
        },
        {
            "id": "q_spouse_entry_date",
            "type": "date",
            "label": "Spouse/Partner Date of Entry into Canada",
            "name": "spouse.dateOfEntry",
            "validation": {
                "required": false,
                "maxDate": "today",
                "minDateRef": "spouse.dateOfBirth"
            },
            "step": "spouse_info",
            "order": 30,
            "conditional": {
                "parentQuestionId": "maritalStatus.status",
                "operator": "in",
                "values": [
                    "MARRIED",
                    "COMMON_LAW"
                ]
            }
        },
        {
            "id": "q_spouse_resident_date",
            "type": "date",
            "label": "Spouse/Partner Date Became Resident of Canada",
            "name": "spouse.dateBecameResident",
            "validation": {
                "required": false,
                "maxDate": "today",
                "minDateRef": "spouse.dateOfBirth"
            },
            "step": "spouse_info",
            "order": 35,
            "conditional": {
                "parentQuestionId": "maritalStatus.status",
                "operator": "in",
                "values": [
                    "MARRIED",
                    "COMMON_LAW"
                ]
            }
        },
        {
            "id": "q_spouse_net_income",
            "type": "number",
            "label": "Spouse/Partner Net Income",
            "name": "spouse.netIncome",
            "validation": {
                "required": false
            },
            "step": "spouse_info",
            "order": 40,
            "conditional": {
                "parentQuestionId": "maritalStatus.status",
                "operator": "in",
                "values": [
                    "MARRIED",
                    "COMMON_LAW"
                ]
            }
        },
        {
            "id": "q_dependants",
            "type": "repeater",
            "label": "Dependants",
            "name": "dependants.list",
            "step": "dependants",
            "order": 10,
            "config": {
                "addButtonLabel": "Add Dependant"
            },
            "fields": [
                {
                    "type": "text",
                    "name": "fullName",
                    "label": "Full Name",
                    "validation": {
                        "required": true
                    }
                },
                {
                    "type": "text",
                    "name": "sin",
                    "label": "SIN (optional if child)",
                    "validation": {
                        "required": false,
                        "pattern": "^\\d{3}-?\\d{3}-?\\d{3}$"
                    },
                    "placeholder": "999-999-999"
                },
                {
                    "type": "date",
                    "name": "dateOfBirth",
                    "label": "Date of Birth",
                    "validation": {
                        "required": true,
                        "maxDate": "today",
                        "minDate": "2000-01-01"
                    }
                },
                {
                    "type": "text",
                    "name": "relationship",
                    "label": "Relationship",
                    "validation": {
                        "required": true
                    }
                },
                {
                    "type": "select",
                    "name": "statusInCanada",
                    "label": "Status in Canada",
                    "options": [
                        {
                            "value": "CANADIAN_CITIZEN",
                            "label": "Canadian Citizen"
                        },
                        {
                            "value": "PERMANENT_RESIDENT",
                            "label": "Permanent Resident"
                        },
                        {
                            "value": "TEMPORARY_RESIDENT",
                            "label": "Temporary Resident"
                        },
                        {
                            "value": "PROTECTED_PERSON",
                            "label": "Protected Person"
                        }
                    ],
                    "validation": {
                        "required": true
                    }
                },
                {
                    "type": "date",
                    "name": "dateBecameResident",
                    "label": "Date Became Resident of Canada",
                    "validation": {
                        "required": false,
                        "maxDate": "today"
                    }
                },
                {
                    "type": "radio",
                    "name": "earnsIncome",
                    "label": "Does this dependant earn any income?",
                    "options": [
                        {
                            "value": "YES",
                            "label": "Yes"
                        },
                        {
                            "value": "NO",
                            "label": "No"
                        }
                    ],
                    "validation": {
                        "required": true
                    }
                }
            ]
        },
        {
            "id": "q_elections_authorize",
            "type": "radio",
            "label": "Authorize CRA to share your name, address, date of birth, and citizenship with Elections Canada?",
            "name": "electionsCanada.authorizeCRA",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "personalInfo.statusInCanada",
                        "operator": "equals",
                        "value": "CANADIAN_CITIZEN"
                    }
                }
            },
            "step": "elections_canada",
            "order": 10,
            "helpText": "Only applicable if you are a Canadian resident.",
            "conditional": {
                "parentQuestionId": "personalInfo.statusInCanada",
                "operator": "equals",
                "value": "CANADIAN_CITIZEN"
            }
        },
        {
            "id": "q_elections_register",
            "type": "radio",
            "label": "Consent to be added to the National Register of Electors?",
            "name": "electionsCanada.consentRegister",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "personalInfo.statusInCanada",
                        "operator": "equals",
                        "value": "CANADIAN_CITIZEN"
                    }
                }
            },
            "step": "elections_canada",
            "order": 20,
            "conditional": {
                "parentQuestionId": "personalInfo.statusInCanada",
                "operator": "equals",
                "value": "CANADIAN_CITIZEN"
            }
        },
        {
            "id": "q_purchased_principal_residence",
            "type": "radio",
            "label": "Did you purchase a principal residence this year?",
            "name": "propertyAssets.purchasedPrincipalResidence",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "property_assets",
            "order": 10
        },
        {
            "id": "q_purchase_docs",
            "type": "file",
            "label": "Upload purchase documents (Agreement of Purchase, Lawyer invoice, Land transfer tax receipt, Title insurance receipt)",
            "name": "propertyAssets.purchaseDocuments",
            "validation": {
                "required": false
            },
            "step": "property_assets",
            "order": 15,
            "conditional": {
                "parentQuestionId": "propertyAssets.purchasedPrincipalResidence",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_disposed_principal_residence",
            "type": "radio",
            "label": "Did you dispose of a principal residence this year?",
            "name": "propertyAssets.disposedPrincipalResidence",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "property_assets",
            "order": 20
        },
        {
            "id": "q_disposal_docs",
            "type": "file",
            "label": "Upload sale documents (Agreement of Purchase and Sale, Lawyer invoice, Land transfer tax receipt, Title insurance receipt)",
            "name": "propertyAssets.disposalDocuments",
            "validation": {
                "required": false
            },
            "step": "property_assets",
            "order": 25,
            "conditional": {
                "parentQuestionId": "propertyAssets.disposedPrincipalResidence",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_foreign_property",
            "type": "radio",
            "label": "Did you own foreign property costing more than CAD $100,000?",
            "name": "propertyAssets.foreignPropertyOver100k",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "property_assets",
            "order": 30
        },
        {
            "id": "q_foreign_property_docs",
            "type": "file",
            "label": "Upload purchase agreement or deed for foreign property",
            "name": "propertyAssets.foreignPropertyDocuments",
            "validation": {
                "required": false
            },
            "step": "property_assets",
            "order": 35,
            "conditional": {
                "parentQuestionId": "propertyAssets.foreignPropertyOver100k",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_foreign_affiliate",
            "type": "radio",
            "label": "Did you have an interest in a foreign affiliate?",
            "name": "propertyAssets.foreignAffiliate",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "property_assets",
            "order": 40
        },
        {
            "id": "q_foreign_affiliate_docs",
            "type": "file",
            "label": "Upload foreign affiliate documents (Legal name, Country of incorporation, Business address, Nature of business, Date ownership started, Dividend statements, Management fees, Interest payments, Foreign tax paid, Annual financial statements)",
            "name": "propertyAssets.foreignAffiliateDocuments",
            "validation": {
                "required": false
            },
            "step": "property_assets",
            "order": 45,
            "conditional": {
                "parentQuestionId": "propertyAssets.foreignAffiliate",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_disability_who",
            "type": "checkbox",
            "label": "Who is the Disability Tax Credit for?",
            "name": "disabilityCredit.affectedPersons",
            "options": [
                {
                    "value": "SELF",
                    "label": "Self"
                },
                {
                    "value": "SPOUSE",
                    "label": "Spouse / Common-law partner"
                },
                {
                    "value": "DEPENDANT",
                    "label": "Child / Dependant"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "disability_credit",
            "order": 10
        },
        {
            "id": "q_disability_dependant_name",
            "type": "text",
            "label": "Full name of dependant claiming disability credit",
            "name": "disabilityCredit.dependantName",
            "validation": {
                "required": false
            },
            "step": "disability_credit",
            "order": 20,
            "conditional": {
                "parentQuestionId": "disabilityCredit.affectedPersons",
                "operator": "contains",
                "value": "DEPENDANT"
            }
        },
        {
            "id": "q_disability_docs",
            "type": "file",
            "label": "Upload Disability Documents (Approved T2201 form, CRA approval letter - if available)",
            "name": "disabilityCredit.documents",
            "validation": {
                "required": false
            },
            "step": "disability_credit",
            "order": 30
        },
        {
            "id": "q_income_sources",
            "type": "checkbox",
            "label": "Select all income sources that apply to you",
            "name": "income.sources",
            "options": [
                {
                    "value": "EMPLOYMENT_T4",
                    "label": "Employment Income (Job / Salary / Wages – T4)"
                },
                {
                    "value": "SELF_EMPLOYMENT",
                    "label": "Self-Employment / Business Income"
                },
                {
                    "value": "RENTAL_INCOME",
                    "label": "Rental Income"
                },
                {
                    "value": "BANK_INTEREST_T5_T3",
                    "label": "Bank Interest / Investment Income (T5, T3)"
                },
                {
                    "value": "CAPITAL_GAINS",
                    "label": "Capital Gains (Sale of Investments)"
                },
                {
                    "value": "FOREIGN_INCOME",
                    "label": "Foreign Income"
                },
                {
                    "value": "EI_T4E",
                    "label": "Employment Insurance (EI – T4E)"
                },
                {
                    "value": "CPP_T4AP",
                    "label": "Canada Pension Plan (CPP – T4A(P))"
                },
                {
                    "value": "OAS_T4AOAS",
                    "label": "Old Age Security (OAS – T4A(OAS))"
                },
                {
                    "value": "OTHER_GOV_BENEFITS",
                    "label": "Other Government Benefits"
                },
                {
                    "value": "SCHOLARSHIPS_T4A",
                    "label": "Scholarships / Bursaries / Grants (T4A)"
                },
                {
                    "value": "TUITION_T2202",
                    "label": "Tuition Fees (T2202)"
                },
                {
                    "value": "SUPPORT_PAYMENTS",
                    "label": "Support Payments Received"
                },
                {
                    "value": "OTHER_INCOME",
                    "label": "Other Income"
                }
            ],
            "validation": {
                "required": true
            },
            "step": "income_selection",
            "order": 10,
            "helpText": "If any of the below slips are already in CRA, it is not necessary to upload."
        },
        {
            "id": "q_income_docs",
            "type": "file",
            "label": "Upload income slips and documents",
            "name": "income.documents",
            "validation": {
                "required": false
            },
            "step": "income_selection",
            "order": 20
        },
        {
            "id": "q_deduction_sources",
            "type": "checkbox",
            "label": "Select Deductions & Credits that apply",
            "name": "deductions.sources",
            "options": [
                {
                    "value": "FHSA",
                    "label": "FHSA Contributions"
                },
                {
                    "value": "RRSP",
                    "label": "RRSP Contributions"
                },
                {
                    "value": "UNION_DUES",
                    "label": "Union / Professional Dues"
                },
                {
                    "value": "CHILD_CARE",
                    "label": "Child Care Expenses"
                },
                {
                    "value": "MOVING_EXPENSES",
                    "label": "Moving Expenses"
                },
                {
                    "value": "MEDICAL_EXPENSES",
                    "label": "Medical Expenses"
                },
                {
                    "value": "DONATIONS",
                    "label": "Donations"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "deductions_selection",
            "order": 10,
            "helpText": "Upload documents for each selected deduction"
        },
        {
            "id": "q_deduction_docs",
            "type": "file",
            "label": "Upload deduction receipts and documents",
            "name": "deductions.documents",
            "validation": {
                "required": false
            },
            "step": "deductions_selection",
            "order": 20
        },
        {
            "id": "q_work_expenses",
            "type": "checkbox",
            "label": "Did you have any work-related expenses this year?",
            "name": "workExpenses.categories",
            "options": [
                {
                    "value": "WORKED_FROM_HOME",
                    "label": "Worked from home"
                },
                {
                    "value": "TRAVEL_FOR_WORK",
                    "label": "Travel for work (not commuting)"
                },
                {
                    "value": "PURCHASED_SUPPLIES",
                    "label": "Purchased supplies or other work-related expenses"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "work_expenses",
            "order": 10,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "EMPLOYMENT_T4"
            }
        },
        {
            "id": "q_t2200_upload",
            "type": "file",
            "label": "Upload T2200 Form from Employer",
            "name": "workExpenses.t2200Document",
            "validation": {
                "required": false
            },
            "step": "work_expenses",
            "order": 15,
            "helpText": "Required if claiming work-related expenses",
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "hasAny",
                "value": [
                    "WORKED_FROM_HOME",
                    "TRAVEL_FOR_WORK",
                    "PURCHASED_SUPPLIES"
                ]
            }
        },
        {
            "id": "q_work_expense_types",
            "type": "checkbox",
            "label": "Select work expense categories (upload receipts or enter values)",
            "name": "workExpenses.expenseTypes",
            "options": [
                {
                    "value": "ADMIN_LEGAL_FEES",
                    "label": "Administration and legal fees"
                },
                {
                    "value": "MEALS",
                    "label": "Meals"
                },
                {
                    "value": "ADVERTISING",
                    "label": "Advertising and promotions"
                },
                {
                    "value": "TOOLS",
                    "label": "Tools"
                },
                {
                    "value": "SUPPLIES",
                    "label": "Supplies"
                },
                {
                    "value": "CELL_PHONE",
                    "label": "Employment use of Cell phones"
                },
                {
                    "value": "HOME_OFFICE",
                    "label": "Home Office Expense"
                },
                {
                    "value": "TRAVEL",
                    "label": "Travel Expense"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "work_expenses",
            "order": 20,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "hasAny",
                "value": [
                    "WORKED_FROM_HOME",
                    "TRAVEL_FOR_WORK",
                    "PURCHASED_SUPPLIES"
                ]
            }
        },
        {
            "id": "q_work_expense_docs",
            "type": "file",
            "label": "Upload work expense receipts",
            "name": "workExpenses.receiptDocuments",
            "validation": {
                "required": false
            },
            "step": "work_expenses",
            "order": 25,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "hasAny",
                "value": [
                    "WORKED_FROM_HOME",
                    "TRAVEL_FOR_WORK",
                    "PURCHASED_SUPPLIES"
                ]
            }
        },
        {
            "id": "q_home_office_total_size",
            "type": "number",
            "label": "Total size of your house/apartment (sq ft)",
            "name": "homeOffice.totalHomeSize",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.expenseTypes",
                        "operator": "contains",
                        "value": "HOME_OFFICE"
                    }
                }
            },
            "step": "home_office",
            "order": 10,
            "helpText": "We need this to calculate the portion of your home used for work.",
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_office_work_size",
            "type": "number",
            "label": "Size of area used for work (sq ft)",
            "name": "homeOffice.workAreaSize",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.expenseTypes",
                        "operator": "contains",
                        "value": "HOME_OFFICE"
                    }
                }
            },
            "step": "home_office",
            "order": 15,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_rent",
            "type": "number",
            "label": "Monthly Rent (if renting)",
            "name": "homeOffice.monthlyRent",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 20,
            "helpText": "Enter the total monthly amount. We will calculate the work-from-home portion.",
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_mortgage_interest",
            "type": "number",
            "label": "Monthly Mortgage Interest (if owning)",
            "name": "homeOffice.monthlyMortgageInterest",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 25,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_property_tax",
            "type": "number",
            "label": "Monthly Property Tax",
            "name": "homeOffice.monthlyPropertyTax",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 30,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_insurance",
            "type": "number",
            "label": "Monthly Home / Tenant Insurance",
            "name": "homeOffice.monthlyInsurance",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 35,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_electricity",
            "type": "number",
            "label": "Monthly Electricity",
            "name": "homeOffice.monthlyElectricity",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 40,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_water",
            "type": "number",
            "label": "Monthly Water",
            "name": "homeOffice.monthlyWater",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 45,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_heat",
            "type": "number",
            "label": "Monthly Heat (Gas / Heating)",
            "name": "homeOffice.monthlyHeat",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 50,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_internet",
            "type": "number",
            "label": "Monthly Home Internet",
            "name": "homeOffice.monthlyInternet",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 55,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_other_utilities",
            "type": "number",
            "label": "Monthly Other Utilities",
            "name": "homeOffice.monthlyOtherUtilities",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 60,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_cleaning_supplies",
            "type": "number",
            "label": "Monthly Cleaning supplies",
            "name": "homeOffice.monthlyCleaningSupplies",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 65,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_minor_repairs",
            "type": "number",
            "label": "Monthly Light bulbs / minor repairs",
            "name": "homeOffice.monthlyMinorRepairs",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 70,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_home_other_maintenance",
            "type": "number",
            "label": "Monthly Other maintenance expenses",
            "name": "homeOffice.monthlyOtherMaintenance",
            "validation": {
                "required": false
            },
            "step": "home_office",
            "order": 75,
            "conditional": {
                "parentQuestionId": "workExpenses.expenseTypes",
                "operator": "contains",
                "value": "HOME_OFFICE"
            }
        },
        {
            "id": "q_vehicle_make",
            "type": "text",
            "label": "Vehicle Make",
            "name": "vehicleExpenses.make",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.categories",
                        "operator": "contains",
                        "value": "TRAVEL_FOR_WORK"
                    }
                }
            },
            "step": "vehicle_expenses",
            "order": 10,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_model",
            "type": "text",
            "label": "Vehicle Model",
            "name": "vehicleExpenses.model",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.categories",
                        "operator": "contains",
                        "value": "TRAVEL_FOR_WORK"
                    }
                }
            },
            "step": "vehicle_expenses",
            "order": 15,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_year",
            "type": "number",
            "label": "Vehicle Year",
            "name": "vehicleExpenses.year",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.categories",
                        "operator": "contains",
                        "value": "TRAVEL_FOR_WORK"
                    }
                }
            },
            "step": "vehicle_expenses",
            "order": 20,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_purchase_date",
            "type": "date",
            "label": "Date vehicle purchased",
            "name": "vehicleExpenses.purchaseDate",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.categories",
                        "operator": "contains",
                        "value": "TRAVEL_FOR_WORK"
                    }
                }
            },
            "step": "vehicle_expenses",
            "order": 25,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_cost",
            "type": "number",
            "label": "Cost of vehicle when purchased",
            "name": "vehicleExpenses.purchaseCost",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.categories",
                        "operator": "contains",
                        "value": "TRAVEL_FOR_WORK"
                    }
                }
            },
            "step": "vehicle_expenses",
            "order": 30,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_total_km",
            "type": "number",
            "label": "Total KM Driven (lifetime)",
            "name": "vehicleExpenses.totalKmDriven",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.categories",
                        "operator": "contains",
                        "value": "TRAVEL_FOR_WORK"
                    }
                }
            },
            "step": "vehicle_expenses",
            "order": 35,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_km_year",
            "type": "number",
            "label": "Total KM Driven in selected tax year",
            "name": "vehicleExpenses.kmDrivenThisYear",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.categories",
                        "operator": "contains",
                        "value": "TRAVEL_FOR_WORK"
                    }
                }
            },
            "step": "vehicle_expenses",
            "order": 40,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_km_work",
            "type": "number",
            "label": "Total KM Driven for work",
            "name": "vehicleExpenses.kmDrivenForWork",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "workExpenses.categories",
                        "operator": "contains",
                        "value": "TRAVEL_FOR_WORK"
                    }
                }
            },
            "step": "vehicle_expenses",
            "order": 45,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_ucc",
            "type": "number",
            "label": "Undepreciated Capital Cost (UCC) at start of year (from last year T777, leave blank if unknown)",
            "name": "vehicleExpenses.uccStartOfYear",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 50,
            "helpText": "Used to calculate depreciation expenses of the vehicle",
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_fuel",
            "type": "number",
            "label": "Monthly Fuel (gas / diesel / charging costs)",
            "name": "vehicleExpenses.monthlyFuel",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 55,
            "helpText": "Enter total monthly amounts. We will calculate the work-related yearly portion.",
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_insurance",
            "type": "number",
            "label": "Monthly Vehicle insurance",
            "name": "vehicleExpenses.monthlyInsurance",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 60,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_maintenance",
            "type": "number",
            "label": "Monthly Maintenance & repairs",
            "name": "vehicleExpenses.monthlyMaintenance",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 65,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_license",
            "type": "number",
            "label": "Monthly License & registration fees",
            "name": "vehicleExpenses.monthlyLicense",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 70,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_parking",
            "type": "number",
            "label": "Monthly Parking fees (work-related only)",
            "name": "vehicleExpenses.monthlyParking",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 75,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_lease",
            "type": "number",
            "label": "Monthly Lease payments (if leasing)",
            "name": "vehicleExpenses.monthlyLease",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 80,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_loan_interest",
            "type": "number",
            "label": "Monthly Interest on car loan (if owning)",
            "name": "vehicleExpenses.monthlyLoanInterest",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 85,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_rides",
            "type": "number",
            "label": "Monthly Rides cost (Uber, taxi, etc.)",
            "name": "vehicleExpenses.monthlyRides",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 90,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_vehicle_other",
            "type": "number",
            "label": "Monthly Other vehicle expenses",
            "name": "vehicleExpenses.monthlyOther",
            "validation": {
                "required": false
            },
            "step": "vehicle_expenses",
            "order": 95,
            "conditional": {
                "parentQuestionId": "workExpenses.categories",
                "operator": "contains",
                "value": "TRAVEL_FOR_WORK"
            }
        },
        {
            "id": "q_self_emp_bookkeeping",
            "type": "radio",
            "label": "Do you need bookkeeping services, or will you enter amounts manually?",
            "name": "selfEmployment.needsBookkeeping",
            "options": [
                {
                    "value": "BOOKKEEPING",
                    "label": "I need bookkeeping services"
                },
                {
                    "value": "MANUAL",
                    "label": "I will enter amounts manually"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "SELF_EMPLOYMENT"
                    }
                }
            },
            "step": "self_employment",
            "order": 10,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "SELF_EMPLOYMENT"
            }
        },
        {
            "id": "q_self_emp_expenses",
            "type": "checkbox",
            "label": "Select business expense categories (upload receipts or enter amounts)",
            "name": "selfEmployment.expenseCategories",
            "options": [
                {
                    "value": "ADVERTISING",
                    "label": "Advertising & marketing"
                },
                {
                    "value": "OFFICE_SUPPLIES",
                    "label": "Office supplies"
                },
                {
                    "value": "INTERNET_PHONE",
                    "label": "Internet & phone (business portion)"
                },
                {
                    "value": "MEALS_ENTERTAINMENT",
                    "label": "Meals & entertainment (business-related)"
                },
                {
                    "value": "RENT",
                    "label": "Rent (business space)"
                },
                {
                    "value": "UTILITIES",
                    "label": "Utilities (business portion)"
                },
                {
                    "value": "INSURANCE",
                    "label": "Insurance (business insurance)"
                },
                {
                    "value": "PROFESSIONAL_FEES",
                    "label": "Professional fees (accountant, lawyer)"
                },
                {
                    "value": "TRAVEL",
                    "label": "Business travel expenses"
                },
                {
                    "value": "OTHER",
                    "label": "Other business expenses"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "self_employment",
            "order": 20,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "SELF_EMPLOYMENT"
            }
        },
        {
            "id": "q_self_emp_expense_docs",
            "type": "file",
            "label": "Upload business expense receipts",
            "name": "selfEmployment.expenseDocuments",
            "validation": {
                "required": false
            },
            "step": "self_employment",
            "order": 25,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "SELF_EMPLOYMENT"
            }
        },
        {
            "id": "q_self_emp_gst_registered",
            "type": "radio",
            "label": "Are you registered for GST/HST?",
            "name": "selfEmployment.gstRegistered",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "SELF_EMPLOYMENT"
                    }
                }
            },
            "step": "self_employment",
            "order": 30,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "SELF_EMPLOYMENT"
            }
        },
        {
            "id": "q_self_emp_gst_number",
            "type": "text",
            "label": "GST/HST Number",
            "name": "selfEmployment.gstNumber",
            "validation": {
                "required": false
            },
            "step": "self_employment",
            "order": 35,
            "conditional": {
                "parentQuestionId": "selfEmployment.gstRegistered",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_self_emp_capital_assets",
            "type": "radio",
            "label": "Did you purchase equipment for business in the last 5 years?",
            "name": "selfEmployment.hasCapitalAssets",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "SELF_EMPLOYMENT"
                    }
                }
            },
            "step": "self_employment",
            "order": 40,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "SELF_EMPLOYMENT"
            }
        },
        {
            "id": "q_self_emp_assets",
            "type": "repeater",
            "label": "Capital Assets / Equipment",
            "name": "selfEmployment.capitalAssets",
            "step": "self_employment",
            "order": 45,
            "config": {
                "addButtonLabel": "Add Asset"
            },
            "conditional": {
                "parentQuestionId": "selfEmployment.hasCapitalAssets",
                "operator": "equals",
                "value": "YES"
            },
            "fields": [
                {
                    "type": "text",
                    "name": "assetName",
                    "label": "Asset Name (Computer, Tools, Furniture, etc.)",
                    "validation": {
                        "required": true
                    }
                },
                {
                    "type": "date",
                    "name": "purchaseDate",
                    "label": "Purchase Date",
                    "validation": {
                        "required": true
                    }
                },
                {
                    "type": "number",
                    "name": "cost",
                    "label": "Cost",
                    "validation": {
                        "required": true
                    }
                }
            ]
        },
        {
            "id": "q_self_emp_asset_receipts",
            "type": "file",
            "label": "Upload equipment purchase receipts",
            "name": "selfEmployment.assetReceipts",
            "validation": {
                "required": false
            },
            "step": "self_employment",
            "order": 50,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "SELF_EMPLOYMENT"
            }
        },
        {
            "id": "q_self_emp_business_docs",
            "type": "file",
            "label": "Upload business documents (Invoices, Bank statements, GST/HST returns)",
            "name": "selfEmployment.businessDocuments",
            "validation": {
                "required": false
            },
            "step": "self_employment",
            "order": 55,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "SELF_EMPLOYMENT"
            }
        },
        {
            "id": "q_rental_address",
            "type": "text",
            "label": "Rental Property Address",
            "name": "rentalIncome.propertyAddress",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "RENTAL_INCOME"
                    }
                }
            },
            "step": "rental_income",
            "order": 10,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_type",
            "type": "select",
            "label": "Type of Property",
            "name": "rentalIncome.propertyType",
            "options": [
                {
                    "value": "HOUSE",
                    "label": "House"
                },
                {
                    "value": "CONDO",
                    "label": "Condo"
                },
                {
                    "value": "APARTMENT",
                    "label": "Apartment"
                },
                {
                    "value": "BASEMENT",
                    "label": "Basement / portion of home"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "RENTAL_INCOME"
                    }
                }
            },
            "step": "rental_income",
            "order": 15,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_ownership",
            "type": "number",
            "label": "Ownership Percentage (100%, 50%, etc.)",
            "name": "rentalIncome.ownershipPercentage",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "RENTAL_INCOME"
                    }
                }
            },
            "step": "rental_income",
            "order": 20,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_start_date",
            "type": "date",
            "label": "Date Rental Started",
            "name": "rentalIncome.rentalStartDate",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "RENTAL_INCOME"
                    }
                }
            },
            "step": "rental_income",
            "order": 25,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_full_year",
            "type": "radio",
            "label": "Was the property rented for the full year?",
            "name": "rentalIncome.rentedFullYear",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "RENTAL_INCOME"
                    }
                }
            },
            "step": "rental_income",
            "order": 30,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_personal_use",
            "type": "radio",
            "label": "Personal use of property?",
            "name": "rentalIncome.personalUse",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "RENTAL_INCOME"
                    }
                }
            },
            "step": "rental_income",
            "order": 35,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_income_amount",
            "type": "number",
            "label": "Total Rent Received During the Year",
            "name": "rentalIncome.totalRentReceived",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "RENTAL_INCOME"
                    }
                }
            },
            "step": "rental_income",
            "order": 40,
            "helpText": "All rent received must be reported, even if paid in cash.",
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_other_income",
            "type": "number",
            "label": "Other Rental Income (parking, laundry, etc.)",
            "name": "rentalIncome.otherRentalIncome",
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 45,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_expenses",
            "type": "checkbox",
            "label": "Select Rental Expenses (tick what applies)",
            "name": "rentalIncome.expenseCategories",
            "options": [
                {
                    "value": "ADVERTISING",
                    "label": "Advertising (listing fees)"
                },
                {
                    "value": "INSURANCE",
                    "label": "Property insurance"
                },
                {
                    "value": "PROPERTY_TAXES",
                    "label": "Property taxes"
                },
                {
                    "value": "MORTGAGE_INTEREST",
                    "label": "Mortgage interest (not principal)"
                },
                {
                    "value": "UTILITIES",
                    "label": "Utilities paid by owner"
                },
                {
                    "value": "REPAIRS",
                    "label": "Repairs & maintenance"
                },
                {
                    "value": "MANAGEMENT_FEES",
                    "label": "Management / condo fees"
                },
                {
                    "value": "LEGAL_FEES",
                    "label": "Accounting / legal fees"
                },
                {
                    "value": "OFFICE",
                    "label": "Office expenses (rental related)"
                },
                {
                    "value": "TRAVEL",
                    "label": "Travel expenses related to rental"
                },
                {
                    "value": "OTHER",
                    "label": "Other rental expenses"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 50,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_claim_cca",
            "type": "radio",
            "label": "Do you want to claim depreciation (CCA) on the rental property?",
            "name": "rentalIncome.claimCCA",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "income.sources",
                        "operator": "contains",
                        "value": "RENTAL_INCOME"
                    }
                }
            },
            "step": "rental_income",
            "order": 55,
            "helpText": "Claiming CCA can reduce tax now but may increase tax when the property is sold.",
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_purchase_price",
            "type": "number",
            "label": "Purchase Price of Property",
            "name": "rentalIncome.purchasePrice",
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 60,
            "conditional": {
                "parentQuestionId": "rentalIncome.claimCCA",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_rental_purchase_date",
            "type": "date",
            "label": "Purchase Date",
            "name": "rentalIncome.purchaseDate",
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 65,
            "conditional": {
                "parentQuestionId": "rentalIncome.claimCCA",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_rental_building_value",
            "type": "number",
            "label": "Building Value (exclude land portion)",
            "name": "rentalIncome.buildingValue",
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 70,
            "conditional": {
                "parentQuestionId": "rentalIncome.claimCCA",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_rental_prior_cca",
            "type": "number",
            "label": "Prior CCA Claimed (if any)",
            "name": "rentalIncome.priorCCAClaimed",
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 75,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_partial_home_size",
            "type": "number",
            "label": "Total Home Size (sq ft) - if partial rental",
            "name": "rentalIncome.totalHomeSize",
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 80,
            "conditional": {
                "parentQuestionId": "rentalIncome.propertyType",
                "operator": "equals",
                "value": "BASEMENT"
            }
        },
        {
            "id": "q_rental_area_size",
            "type": "number",
            "label": "Rental Area Size (sq ft)",
            "name": "rentalIncome.rentalAreaSize",
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 85,
            "conditional": {
                "parentQuestionId": "rentalIncome.propertyType",
                "operator": "equals",
                "value": "BASEMENT"
            }
        },
        {
            "id": "q_rental_docs",
            "type": "file",
            "label": "Upload Rental Documents (Lease, Mortgage statement, Property tax bill, Insurance, Receipts, Purchase documents)",
            "name": "rentalIncome.documents",
            "validation": {
                "required": false
            },
            "step": "rental_income",
            "order": 90,
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_rental_equipment",
            "type": "repeater",
            "label": "Equipment for Rental Property (washing machine, dryer, etc. purchased within 5 years)",
            "name": "rentalIncome.equipment",
            "step": "rental_income",
            "order": 95,
            "config": {
                "addButtonLabel": "Add Equipment"
            },
            "fields": [
                {
                    "type": "text",
                    "name": "assetName",
                    "label": "Asset Name",
                    "validation": {
                        "required": true
                    }
                },
                {
                    "type": "date",
                    "name": "purchaseDate",
                    "label": "Date of Purchase",
                    "validation": {
                        "required": true
                    }
                },
                {
                    "type": "number",
                    "name": "cost",
                    "label": "Cost",
                    "validation": {
                        "required": true
                    }
                }
            ],
            "conditional": {
                "parentQuestionId": "income.sources",
                "operator": "contains",
                "value": "RENTAL_INCOME"
            }
        },
        {
            "id": "q_moving_reason",
            "type": "radio",
            "label": "Reason for the Move",
            "name": "movingExpenses.reason",
            "options": [
                {
                    "value": "NEW_JOB",
                    "label": "New job or job transfer"
                },
                {
                    "value": "NEW_BUSINESS",
                    "label": "Started a new business or self-employment"
                },
                {
                    "value": "STUDIES",
                    "label": "Started or continued full-time studies"
                },
                {
                    "value": "RETURNED_TO_WORK",
                    "label": "Returned to work after unemployment"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "deductions.sources",
                        "operator": "contains",
                        "value": "MOVING_EXPENSES"
                    }
                }
            },
            "step": "moving_expenses",
            "order": 10,
            "helpText": "CRA rule: The new home must be at least 40 km closer to the new work or school.",
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_old_address",
            "type": "text",
            "label": "Old Residence Full Address",
            "name": "movingExpenses.oldAddress",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "deductions.sources",
                        "operator": "contains",
                        "value": "MOVING_EXPENSES"
                    }
                }
            },
            "step": "moving_expenses",
            "order": 15,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_old_city",
            "type": "text",
            "label": "Old City, Province, Country",
            "name": "movingExpenses.oldCityProvince",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "deductions.sources",
                        "operator": "contains",
                        "value": "MOVING_EXPENSES"
                    }
                }
            },
            "step": "moving_expenses",
            "order": 20,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_new_address",
            "type": "text",
            "label": "New Residence Full Address",
            "name": "movingExpenses.newAddress",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "deductions.sources",
                        "operator": "contains",
                        "value": "MOVING_EXPENSES"
                    }
                }
            },
            "step": "moving_expenses",
            "order": 25,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_new_city",
            "type": "text",
            "label": "New City, Province, Country",
            "name": "movingExpenses.newCityProvince",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "deductions.sources",
                        "operator": "contains",
                        "value": "MOVING_EXPENSES"
                    }
                }
            },
            "step": "moving_expenses",
            "order": 30,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_date",
            "type": "date",
            "label": "Date You Moved",
            "name": "movingExpenses.moveDate",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "deductions.sources",
                        "operator": "contains",
                        "value": "MOVING_EXPENSES"
                    }
                }
            },
            "step": "moving_expenses",
            "order": 35,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_work_start_date",
            "type": "date",
            "label": "Date You Started Work / School at New Location",
            "name": "movingExpenses.workStartDate",
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "deductions.sources",
                        "operator": "contains",
                        "value": "MOVING_EXPENSES"
                    }
                }
            },
            "step": "moving_expenses",
            "order": 40,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_transport_expenses",
            "type": "checkbox",
            "label": "Transportation & Storage Expenses",
            "name": "movingExpenses.transportExpenses",
            "options": [
                {
                    "value": "MOVING_COMPANY",
                    "label": "Moving company charges"
                },
                {
                    "value": "TRUCK_RENTAL",
                    "label": "Truck or trailer rental"
                },
                {
                    "value": "STORAGE",
                    "label": "Storage costs (up to 30 days)"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "moving_expenses",
            "order": 45,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_travel_expenses",
            "type": "checkbox",
            "label": "Travel Costs",
            "name": "movingExpenses.travelExpenses",
            "options": [
                {
                    "value": "VEHICLE",
                    "label": "Vehicle expenses (km driven)"
                },
                {
                    "value": "FUEL",
                    "label": "Gas / fuel"
                },
                {
                    "value": "MEALS",
                    "label": "Meals during move"
                },
                {
                    "value": "ACCOMMODATION",
                    "label": "Accommodation (hotel stays)"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "moving_expenses",
            "order": 50,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_temp_living",
            "type": "checkbox",
            "label": "Temporary Living Expenses",
            "name": "movingExpenses.tempLivingExpenses",
            "options": [
                {
                    "value": "TEMP_ACCOMMODATION",
                    "label": "Temporary accommodation near new home (Maximum 15 days)"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "moving_expenses",
            "order": 55,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_home_expenses",
            "type": "checkbox",
            "label": "Home-Related Costs",
            "name": "movingExpenses.homeExpenses",
            "options": [
                {
                    "value": "LEGAL_FEES",
                    "label": "Legal fees to sell old home"
                },
                {
                    "value": "REAL_ESTATE",
                    "label": "Real estate commission"
                },
                {
                    "value": "LEASE_PENALTY",
                    "label": "Penalty for breaking lease"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "moving_expenses",
            "order": 60,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_other_expenses",
            "type": "checkbox",
            "label": "Other Eligible Expenses",
            "name": "movingExpenses.otherExpenses",
            "options": [
                {
                    "value": "UTILITY_FEES",
                    "label": "Utility disconnection / reconnection fees"
                },
                {
                    "value": "ADDRESS_CHANGE",
                    "label": "Address change costs"
                },
                {
                    "value": "OTHER",
                    "label": "Other moving-related expenses"
                }
            ],
            "validation": {
                "required": false
            },
            "step": "moving_expenses",
            "order": 65,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_vehicle_used",
            "type": "radio",
            "label": "Did you use a vehicle for moving?",
            "name": "movingExpenses.usedVehicle",
            "options": [
                {
                    "value": "YES",
                    "label": "Yes"
                },
                {
                    "value": "NO",
                    "label": "No"
                }
            ],
            "validation": {
                "conditionalRequired": {
                    "when": {
                        "parentQuestionId": "deductions.sources",
                        "operator": "contains",
                        "value": "MOVING_EXPENSES"
                    }
                }
            },
            "step": "moving_expenses",
            "order": 70,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_moving_vehicle_info",
            "type": "text",
            "label": "Vehicle Make, Model, Year",
            "name": "movingExpenses.vehicleInfo",
            "validation": {
                "required": false
            },
            "step": "moving_expenses",
            "order": 75,
            "conditional": {
                "parentQuestionId": "movingExpenses.usedVehicle",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_moving_km_driven",
            "type": "number",
            "label": "KM Driven for Moving",
            "name": "movingExpenses.kmDrivenForMoving",
            "validation": {
                "required": false
            },
            "step": "moving_expenses",
            "order": 80,
            "conditional": {
                "parentQuestionId": "movingExpenses.usedVehicle",
                "operator": "equals",
                "value": "YES"
            }
        },
        {
            "id": "q_moving_docs",
            "type": "file",
            "label": "Upload Moving Documents (Moving company invoice, Fuel receipts, Hotel bills, Lease termination, Legal statements, Mileage log)",
            "name": "movingExpenses.documents",
            "validation": {
                "required": false
            },
            "step": "moving_expenses",
            "order": 85,
            "conditional": {
                "parentQuestionId": "deductions.sources",
                "operator": "contains",
                "value": "MOVING_EXPENSES"
            }
        },
        {
            "id": "q_additional_docs",
            "type": "file",
            "label": "Additional Documents",
            "name": "documents.other",
            "helpText": "Upload any other documents relevant to your return that haven't been uploaded yet (e.g., CRA correspondence, custody arrangements, etc.)",
            "validation": {
                "required": false
            },
            "step": "documents",
            "order": 10
        }
    ],
    "pricing": {
        "baseFee": 45,
        "currency": "CAD",
        "taxRate": 0.15,
        "rules": [
            {
                "id": "fee_moving",
                "description": "Moving Expenses",
                "amount": 5,
                "condition": {
                    "parentQuestionId": "deductions.sources",
                    "operator": "contains",
                    "value": "MOVING_EXPENSES"
                }
            },
            {
                "id": "fee_childcare",
                "description": "Childcare Expenses",
                "amount": 5,
                "condition": {
                    "parentQuestionId": "deductions.sources",
                    "operator": "contains",
                    "value": "CHILD_CARE"
                }
            },
            {
                "id": "fee_medical",
                "description": "Medical Expenses",
                "amount": 5,
                "condition": {
                    "parentQuestionId": "deductions.sources",
                    "operator": "contains",
                    "value": "MEDICAL_EXPENSES"
                }
            },
            {
                "id": "fee_cap_gains",
                "description": "Capital Gains",
                "amount": 5,
                "condition": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "CAPITAL_GAINS"
                }
            },
            {
                "id": "fee_investments",
                "description": "Investments/Principal Residence",
                "amount": 5,
                "condition": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "BANK_INTEREST_T5_T3"
                }
            },
            {
                "id": "fee_principal_residence",
                "description": "Principal Residence Purchase/Sale",
                "amount": 5,
                "condition": {
                    "parentQuestionId": "propertyAssets.purchasedPrincipalResidence",
                    "operator": "equals",
                    "value": "YES"
                }
            },
            {
                "id": "fee_self_emp",
                "description": "Self-Employment Income",
                "amount": 15,
                "condition": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "SELF_EMPLOYMENT"
                }
            },
            {
                "id": "fee_rental",
                "description": "Rental Income",
                "amount": 15,
                "condition": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "RENTAL_INCOME"
                }
            },
            {
                "id": "disc_student",
                "description": "Student Discount (T2202)",
                "amount": -5,
                "condition": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "TUITION_T2202"
                }
            }
        ]
    },
    "review": {
        "title": "Review Your Filing",
        "description": "Please verify all details before proceeding to payment.",
        "sections": [
            {
                "id": "personal_info",
                "title": "Personal Information",
                "fields": [
                    "personalInfo.firstName",
                    "personalInfo.lastName",
                    "personalInfo.sin",
                    "personalInfo.dateOfBirth",
                    "maritalStatus.status"
                ],
                "editStepId": "personal_identity"
            },
            {
                "id": "contact_info",
                "title": "Contact Details",
                "fields": [
                    "personalInfo.email",
                    "personalInfo.phoneNumber",
                    "personalInfo.streetName",
                    "personalInfo.city"
                ],
                "editStepId": "personal_contact"
            },
            {
                "id": "spouse_info",
                "title": "Spouse / Common-law Partner",
                "conditional": {
                    "parentQuestionId": "maritalStatus.status",
                    "operator": "in",
                    "values": [
                        "MARRIED",
                        "COMMON_LAW"
                    ]
                },
                "fields": [
                    "spouse.fullName",
                    "spouse.sin",
                    "spouse.netIncome"
                ],
                "format": {
                    "spouse.netIncome": "currency"
                },
                "editStepId": "spouse_info"
            },
            {
                "id": "dependents",
                "title": "Dependents",
                "dataPath": "dependants.list",
                "isRepeater": true,
                "fields": [
                    "fullName",
                    "relationship",
                    "dateOfBirth",
                    "isClaimingDTC"
                ],
                "editStepId": "dependents",
                "format": {
                    "isClaimingDTC": "boolean",
                    "dateOfBirth": "date"
                }
            },
            {
                "id": "financial_sources",
                "title": "Income Sources",
                "fields": [
                    "income.sources"
                ],
                "format": {
                    "income.sources": "list"
                },
                "editStepId": "income_selection"
            },
            {
                "id": "investment_income_details",
                "title": "Investment Income",
                "conditional": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "INVESTMENT_INCOME"
                },
                "fields": [
                    "investment.t3Documents",
                    "investment.t5Documents",
                    "investment.otherDocuments"
                ],
                "format": {
                    "investment.t3Documents": "files",
                    "investment.t5Documents": "files",
                    "investment.otherDocuments": "files"
                },
                "editStepId": "investment_income"
            },
            {
                "id": "pension_income_details",
                "title": "Pension Income",
                "conditional": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "PENSION_INCOME"
                },
                "fields": [
                    "pension.pensionDocuments",
                    "pension.oasDocuments"
                ],
                "format": {
                    "pension.pensionDocuments": "files",
                    "pension.oasDocuments": "files"
                },
                "editStepId": "pension_income"
            },
            {
                "id": "rrsp_withdrawal_details",
                "title": "RRSP Withdrawals",
                "conditional": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "RRSP_WITHDRAWAL"
                },
                "fields": [
                    "rrspWithdrawal.totalAmount",
                    "rrspWithdrawal.documents"
                ],
                "format": {
                    "rrspWithdrawal.totalAmount": "currency",
                    "rrspWithdrawal.documents": "files"
                },
                "editStepId": "rrsp_withdrawal"
            },
            {
                "id": "other_income_details",
                "title": "Other Income",
                "conditional": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "OTHER_INCOME"
                },
                "fields": [
                    "otherIncome.description",
                    "otherIncome.amount",
                    "otherIncome.documents"
                ],
                "format": {
                    "otherIncome.amount": "currency",
                    "otherIncome.documents": "files"
                },
                "editStepId": "other_income"
            },
            {
                "id": "rrsp_contributions_details",
                "title": "RRSP Contributions",
                "conditional": {
                    "parentQuestionId": "deductions.sources",
                    "operator": "contains",
                    "value": "RRSP"
                },
                "fields": [
                    "rrsp.contributionAmount",
                    "rrsp.receipts"
                ],
                "format": {
                    "rrsp.contributionAmount": "currency",
                    "rrsp.receipts": "files"
                },
                "editStepId": "rrsp_deductions"
            },
            {
                "id": "union_dues_details",
                "title": "Union Dues",
                "conditional": {
                    "parentQuestionId": "deductions.sources",
                    "operator": "contains",
                    "value": "UNION_DUES"
                },
                "fields": [
                    "unionDues.totalAmount",
                    "unionDues.receipts"
                ],
                "format": {
                    "unionDues.totalAmount": "currency",
                    "unionDues.receipts": "files"
                },
                "editStepId": "union_dues"
            },
            {
                "id": "self_employment_details",
                "title": "Self-Employment Details",
                "conditional": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "SELF_EMPLOYMENT"
                },
                "fields": [
                    "selfEmployment.needsBookkeeping",
                    "selfEmployment.gstRegistered",
                    "selfEmployment.hasCapitalAssets"
                ],
                "format": {
                    "selfEmployment.needsBookkeeping": "boolean",
                    "selfEmployment.gstRegistered": "boolean",
                    "selfEmployment.hasCapitalAssets": "boolean"
                },
                "editStepId": "self_employment"
            },
            {
                "id": "rental_income_details",
                "title": "Rental Income Details",
                "conditional": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "RENTAL_INCOME"
                },
                "fields": [
                    "rentalIncome.propertyAddress",
                    "rentalIncome.propertyType",
                    "rentalIncome.ownershipPercentage",
                    "rentalIncome.rentalStartDate",
                    "rentalIncome.totalRentReceived"
                ],
                "format": {
                    "rentalIncome.rentalStartDate": "date",
                    "rentalIncome.totalRentReceived": "currency"
                },
                "editStepId": "rental_income"
            },
            {
                "id": "deductions",
                "title": "Deductions",
                "fields": [
                    "deductions.sources"
                ],
                "format": {
                    "deductions.sources": "list"
                },
                "editStepId": "deductions"
            },
            {
                "id": "employment_t4_details",
                "title": "Employment Income (T4)",
                "conditional": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "EMPLOYMENT_T4"
                },
                "fields": [
                    "employment.t4Documents"
                ],
                "format": {
                    "employment.t4Documents": "files"
                },
                "editStepId": "employment_t4"
            },
            {
                "id": "vehicle_expenses_details",
                "title": "Vehicle Expenses",
                "conditional": {
                    "parentQuestionId": "workExpenses.categories",
                    "operator": "contains",
                    "value": "VEHICLE_EXPENSES"
                },
                "fields": [
                    "vehicleExpenses.make",
                    "vehicleExpenses.model",
                    "vehicleExpenses.year",
                    "vehicleExpenses.purchaseDate",
                    "vehicleExpenses.purchaseCost",
                    "vehicleExpenses.totalKmDriven",
                    "vehicleExpenses.kmDrivenThisYear",
                    "vehicleExpenses.kmDrivenForWork",
                    "vehicleExpenses.monthlyFuel",
                    "vehicleExpenses.monthlyInsurance",
                    "vehicleExpenses.monthlyMaintenance",
                    "vehicleExpenses.monthlyLicense",
                    "vehicleExpenses.monthlyParking",
                    "vehicleExpenses.monthlyLease",
                    "vehicleExpenses.monthlyLoanInterest"
                ],
                "format": {
                    "vehicleExpenses.purchaseDate": "date",
                    "vehicleExpenses.purchaseCost": "currency",
                    "vehicleExpenses.monthlyFuel": "currency",
                    "vehicleExpenses.monthlyInsurance": "currency",
                    "vehicleExpenses.monthlyMaintenance": "currency",
                    "vehicleExpenses.monthlyLicense": "currency",
                    "vehicleExpenses.monthlyParking": "currency",
                    "vehicleExpenses.monthlyLease": "currency",
                    "vehicleExpenses.monthlyLoanInterest": "currency"
                },
                "editStepId": "vehicle_expenses"
            },
            {
                "id": "home_office_work_details",
                "title": "Home Office (Work)",
                "conditional": {
                    "parentQuestionId": "workExpenses.categories",
                    "operator": "contains",
                    "value": "HOME_OFFICE"
                },
                "fields": [
                    "workExpenses.homeOfficeSize",
                    "workExpenses.totalHomeSize",
                    "workExpenses.homeOfficePercentage"
                ],
                "format": {},
                "editStepId": "home_office_work"
            },
            {
                "id": "disability_credit_details",
                "title": "Disability Tax Credit",
                "conditional": {
                    "parentQuestionId": "disabilityCredit.affectedPersons",
                    "operator": "contains",
                    "value": ""
                },
                "fields": [
                    "disabilityCredit.affectedPersons",
                    "disabilityCredit.documents"
                ],
                "format": {
                    "disabilityCredit.affectedPersons": "list",
                    "disabilityCredit.documents": "files"
                },
                "editStepId": "disability_credit"
            },
            {
                "id": "work_expenses",
                "title": "Work Expenses",
                "conditional": {
                    "parentQuestionId": "income.sources",
                    "operator": "contains",
                    "value": "EMPLOYMENT"
                },
                "fields": [
                    "workExpenses.categories"
                ],
                "format": {
                    "workExpenses.categories": "list"
                },
                "editStepId": "work_expenses"
            }
        ],
        "submitButton": {
            "label": "Proceed to Payment",
            "confirmMessage": "Are you sure all details are correct?",
            "successMessage": "Filing details verified. Proceeding to payment..."
        }
    }
}